<!-- this demo requires a browser that natively supports ES2015 -->

<script src="https://unpkg.com/rxjs/bundles/rxjs.umd.js"></script>
<script src="https://unpkg.com/vue@next"></script>
<script src="../dist/vue-next-rx.js"></script>
<div id="app">
  <div class="home">
    <div>{{ aPlusOne }}</div>
  </div>
</div>
<script>
  const { pluck, map } = rxjs.operators;

  const app = Vue.createApp({
    data() {
      return { a: 1 };
    },
    subscriptions() {
      // declaratively map to another property with Rx operators
      return {
        aPlusOne: this.$watchAsObservable("a").pipe(
          pluck("newValue"),
          map((a) => a + 1)
        ),
      };
    },
  }).use(VueNextRx);
  app.mount("#app");
</script>
